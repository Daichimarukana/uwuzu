## リリースノートだぜぇぇぇぇぇぇい！！！！！！！
ここにはuwuzuの更新情報を載せてくぜぇ～！(いやまてテンションおかしいだろ...)


## Version 1.4.6 (Funium)
リリース日:2024/11/06
fix: ActivityPubに関する一部問題を修正しました。
fix: パスワードが72文字以上の場合に、72文字目以降のパスワードが入力されていなくても認証されてしまう問題を修正しました。
    この修正がユーザーに適用されるにはパスワードの更新が必要です。(引き続き同じパスワードを使用することも可能です)
fix: 一部URLに関する不具合に応急処置をしました！
fix: アカウント削除時に自分が起こしたアクションにより送信された通知が削除されない問題を修正しました。
fix: 通知ページで削除されたアカウントにより通知の表示がうまく行われない問題を修正しました。
chg: 広告をクリックした際に新しいタブで開くように変更しました！
chg: 一部UIを変更しました！
chg: ユーザーに脆弱性に対しての注意喚起をする機能のメッセージを一部編集しました。

## Version 1.4.5 (Funium)
リリース日:2024/10/13
fix: URLに関する処理の問題を修正しました
fix: ログイン時にパスワードが32文字以上入力できない問題を修正しました
fix: 管理者アカウント登録時にメールアドレスが必要になってしまう問題を修正しました
chg: 自分へのアクションには通知を送信しないようにしました！
chg: 広告の配信時に時間まで指定できるようにしました！

## Version 1.4.4 (Funium)
リリース日:2024/08/30
fix: OpenSearchのxmlが正しく生成されない問題を修正しました
fix: 動画をアップロードできない問題、画像のアップロード時にエラーが発生してしまう問題を修正しました
fix: アカウント移行時にメールアドレスが暗号化されたまま移行されてしまい、復号化できなくなってしまう問題を修正しました
fix: プロフィールの文字数が無限に入力できてしまう問題を修正しました。
fix: リユーズ時にうまくカスタム絵文字が表示されない問題を修正しました！
fix: アカウント登録時にプロフィール画像を選択してアカウント登録ボタンを押した際にエラーが発生してしまう問題を修正しました。
chg: セッショントークン(loginid)の生成をより安全な方法に切り替えました
chg: UIを微調整しました
new: 絵文字登録画面のプレビュー機能や管理機能など、絵文字関連の管理機能を強化しました
new: アカウント登録画面などで再読み込みなどを行っても内容が保持されるようにしました
new: サーバー管理画面よりデータベースの容量を確認できるようにしました！

## Version 1.4.3 (Funium)
リリース日:2024/08/23
fix: メールプラグインの設定画面でエラー表示がエラーを起こしてしまう問題を修正しました。
fix: ロールが作成、削除、付与、剥奪できない問題を修正しました。
fix: アカウント移行機能のミスを修正しました
fix: 動画埋込機能で動画でないリンクにも反応してしまう問題を修正しました！
fix: 一部ページで追記ができない問題を修正しました
fix: 管理者アカウントの登録時に設定したメールアドレスを復号化できない問題を修正しました
fix: /rule/配下のページの仕様を一部修正しました
chg: 一部UIを変更しました！
chg: エラーページを一つにまとめました
chg: HTTP 413のエラーメッセージを作成しました

## Version 1.4.2 (Funium)
リリース日:2024/08/19
fix: 絵文字ピッカーが使用できない問題を修正しました。
fix: APIでユーズを削除した際にリユーズが残ってしまう問題を修正しました。
fix: 通報ができない問題を修正しました！
fix: アカウント移行時にuwuzu以外のプラットフォームのドメインを入力された場合にエラーが発生してしまう問題の修正をしました！
fix: 自動アップデート画面にてupdate.jsonにかかれているリリースノートが正しく改行されない問題を修正しましたー！
chg: ユーズ内にYouTube、ニコニコ動画のリンクが含まれている際に?t=や?from=などの時間指定があった場合に埋め込みも時間指定がされるようにしました！
new: 受け取る通知を選べる機能を追加しました！
    このアップデートによりDBの更新が必要です。
    データベースのaccountテーブルにnotification_settings(varchar(256))というカラムを追加してください。
    また、データベースのnotificationテーブルにcategory(varchar(256))というカラムを追加してください。
new: いいねの通知を追加しました！
uwuzu_database.sqlは更新済みです。

## Version 1.4.1 (Funium)
リリース日:2024/08/18
fix: 二段階認証を設定しているアカウントがログインできない問題を修正しました。

## Version 1.4.0 (Funium)
リリース日:2024/08/18
fix: php 8.3未満のphpを使用していた場合にエラーが発生してしまう問題を修正しました。
fix: お知らせの配信ページにて、文字が過剰にエスケープされてしまう問題を修正しました。
fix: フォロー・フォロワーの更新時の動作をより安定化しました。
fix: ブロック解除時にこれまでブロックしていたすべてのアカウントのブロックが解除されてしまう問題を修正しました。
fix: NSFW指定された投稿のNSFWを解除すると投稿の内容がすべて透明になってしまう問題を修正しました。
fix: 存在しないユーザーのプロフィールにアクセスした際にエラーが発生してしまう問題を修正しました。
fix: ブロックしていないユーザーをブロックしていると判定してしまうバグを修正しました。
fix: 脆弱性を修正しました。
fix: 一部判定が曖昧になってしまっている箇所を修正しました。
fix: 例外判定を一部加えました。
fix: Markdownが正しく適用されない問題を修正しました。
fix: 何度でも追記できてしまうバグを修正しました。
fix: リプライ画面にて入力中のテキストが保存された後にホーム画面の入力欄にワープしてしまう問題を修正しました！
fix: 凍結されたユーザーが追記できてしまう問題を修正しました。
fix: システムロールを編集できてしまう問題を修正しました。
fix: 凍結されたユーザーにロールを追記できてしまう問題を修正しました。
fix: 一部ページにて絵文字が表示されない問題を修正しました。
fix: ユーズ内でUNIX時間を表示する装飾機能を文中に使用した際にうまく装飾されない問題を修正しました
fix: 追記にメンションを含めた時に通知のリンクが正しくないものになってしまう問題を修正しました
fix: ブックマークページにてNSFWの解除ができない、画像の拡大表示ができない問題を修正しました。
chg: UIを一部変更しました。
chg: 管理者のみ使用できる招待コードを削除するプログラムを移動しました、アップデート後、[/settings_admin/code_delete.php]は削除してください。
chg: バックアップコードの仕様を変更しました！文字数が32文字から12文字に、0やo、l、1などの紛らわしい文字をなくしました。なお、これまでのバックアップコードも引き続き使用可能です。
chg: メールを使用してパスワードの復元をできるようにしました！
new: zxcvbnを使用したパスワードの強度チェック機能を追加しました！
new: 自動アップデート機能を実装しました！
new: ユーザーデータの暗号化機能を実装しました！現時点ではメールアドレスと二段階認証のコードが暗号化の対象となります。
    db.phpにENC_KEYという名前で暗号学的に安全な128文字の文字列を追加してください。
    また、データベースのaccountテーブルにencryption_ivkey(varchar(256))というカラムを追加してください。
new: リユーズ機能を実装しました！！！🎉🎉🎉🎉🎉🎉
    現時点で通常のリユーズとテキストのみの引用リユーズが可能です！
    今後のアップデートで画像の添付や動画の添付が追加される可能性があります
    データベースのueuseテーブルの構造にruuniqid(varchar(256))を追加する必要があります。
new: アイコンとヘッダーのリサイズ機能を実装しました！
    アイコンは512x512、ヘッダーは2048x1024にリサイズされます。
    svgやgifなど一部のファイルはリサイズされずに使用可能です。
new: 投稿画面でクリップボードにある画像を貼り付けられるようになりました！
del: ueuse-api,userdata-api,ltl-apiを削除しました。セキュリティ上の観点からuwuzu 1.3.5、uwuzu 1.3.6のアップデート作業を行っていないサーバーは該当のファイルの削除を推奨します。
del: bot-apiを廃止しました。
del: ローカルタイムラインを廃止し、すべてホーム画面にまとめました。
uwuzu_database.sqlは更新済みです。

## Version 1.3.6 (new_Planet)
リリース日:2024/04/24
fix: バックアップコードを使用してのログインができない問題を修正しました。
fix: お知らせ配信ページにて過去のお知らせの本文が改行されない問題を修正しました。
fix: 脆弱性を修正しました。
fix: serverinfo-apiにてお知らせが1件も配信されていない際にエラーがでてしまう問題を修正しました。
fix: サーバーの設定次第で画像のアップロード時にエラーが発生する可能性がある問題を修正しました。
fix: 管理者ページより概要ページでのエラーを修正しました。
chg: 一部UIを変更しました！
chg: カスタム絵文字のファイルサイズ上限を256KBにしました！
    これはカスタム絵文字によってuwuzuが重たくならないようにするための変更です。
chg: アカウントのアイコンやヘッダーを設定する際に画像を選択した後にプレビュー表示をするようにしました。
chg: 絵文字ピッカーを軽量化しました！
chg: LTL、FTLの表記をローカル、フォローに変更しました！
    機能は従来と同じく、
    - ローカル : サーバー内の全ユーザーのユーズがあるタイムライン
    - フォロー : 自分のフォローしているユーザーのユーズがあるタイムライン
    です。
new: db.php自動設定機能を実装しました！
new: データベース自動設定機能を実装しました！
    これによりuwuzuの導入がものすごく楽になりました！
    phpとMySQLが動作するWebサーバーと空のデータベースが用意してあればuwuzuを適切なフォルダに配置するだけでセットアップが可能です。
    localhost/admin/からセットアップが可能です。
new: ログイン通知にログインした端末を記載するようにしました！
new: サーバー内で使用するフォントを自由に指定できるようにしました！
new: 「その他」よりキャッシュクリア機能を実装しました。
    この機能はまだ動作が保証できないため試験的なものとなります。
new: OpenSearchに対応しました！
    この機能はブラウザのアドレスバーに検索したい文字列を入力した時に直でuwuzuに検索をかけられる的な機能です！
    ブラウザによって使用できるかは不明ですが、[domain]/search/へアクセスすることでブラウザ側がOpenSearchを認識して設定が可能になるはずです。
new: サーバー間でのアカウント移行機能を実装しました！
    その他のページからアカウントの移行、移行先のサーバーのドメインを入力することで移行用エイリアスの作成が可能です。
    移行先のサーバーでアカウント登録、アカウントの移行登録とすすみ、新しいユーザーID、パスワード、移行元のサーバーで作成した認証コードと移行元のサーバーのドメインを入力することでアカウントの移行が可能です。
    移行できるデータは以下のものです。
    - ユーザー名
    - プロフィール
    - ユーザーアイコン
    - ユーザーヘッダー
    - メールアドレス
    これによりデータベース上にmigrationテーブルを作成する必要があります。
    中身はsysid(int,AUTO_INCREMENT),account(varchar(512)),domain(varchar(1024)),migration_code(varchar(256)),encryption_key(varchar(256)),encryption_ivkey(varchar(256)),datetime(datetime)です。
new: APIを大幅強化しました！
    使用方法など詳細はuwuzu.comをご確認ください！
    また、uwuzu v1.3.4で変更された従来のAPIも引き続き使用可能です。
new: チュートリアル機能を実装しました！
    チュートリアルは「その他」より行うことができます！
new: パスワード復元機能によりパスワードが変更された際に通知を送信するようにしました！
uwuzu_database.sqlは更新済みです。

## Version 1.3.5 (new_Planet)
リリース日:2024/03/27
fix: ロールの新規作成ができなくなってしまう問題を修正しました。
fix: リプライ画面にて入力中のテキストが保存されっぱなしになってしまう問題を修正しました。
fix: Markdown関係のバグを修正しました。
fix: URLに絵文字が含まれている際にimgタグがURL内に入ってしまう問題を修正しました。
    これによりURL内に「:{文字列}:」が含まれている場合にハイパーリンクは無効になります。
chg: 絵文字が無い際に404を表示せずにそのままテキストとして返すようにしました。
chg: 一部UIを変更しました！
chg: ハッシュタグに「!」が使用可能になりました！

## Version 1.3.4 (new_Planet)
リリース日:2024/03/26
fix: サーバーアイコンが設定されていない状態でサポートされていない端末からアクセスするとアイコンが表示されない問題を修正しました。
fix: 脆弱性を修正しました。
fix: URLをハイパーリンクに変換する機能のバグを修正しました！
fix: ActivityPub機能がオンの場合に他のActivityPub対応サーバーに認識してもらえない問題を修正しました。
fix: YouTube埋め込みが再生できなくなるバグを修正しました。
chg: 一部APIをbot-apiに統合しました。
    詳細はOtherタブをご覧ください。
chg: 一部UIを変更しました！
    UIの変更が多いため、キャッシュの削除はお忘れなく！
chg: jQueryをローカル環境から呼び出すようにしました。
chg: パスワードの最大文字数を100文字から256文字に拡大しました。
chg: セッションの終了機能をセッショントークン再生成に名称変更しました。
    エラーコードに変更はありません。
chg: 絵文字ページを結構変えました
new: ログイン画面でパスワードを表示できるようにしました！
new: 絵文字ピッカーを実装しました！
new: 管理用ページよりサーバー概要ページにてディスク空き容量の表示とロードアベレージ(Linux環境のみ)の表示をしました！
new: 管理者アカウント登録時に必須モジュールが導入されているかを確認する仕組みを実装しました！
    デフォルトでインストールされているモジュールは確認されません。
new: Markdownを強化し、"[[time (unixtime)]]"を使用できるようにしました！
new: ユーズに添付されている画像ファイルを新しいタブで開かずにページ内で表示できるようにしました！
    画像を開いた状態で開かれた画像をクリックすると画像を閉じます。
new: 絵文字の検索機能と無限スクロール機能を実装しました！
new: JavaScriptがブロックされている際にエラーを表示するようにしました。
new: 絵文字一覧ページよりクリックで絵文字のIDをコピーできるようにしました！
new: アニメーションロール機能を実装しました！
    ロールにいくつかの種類のエフェクトをつけられるようになっています。
    これによりuwuzuのDB内、roleテーブルの構造に「roleeffect」(varchar(256))を追加する必要があります！
    アニメーションロールを使用する予定のないサーバーでもDBに追加しないとエラーを引き起こすため必ず追加してください！
new: CloudflareTurnstileを設定して、利用できるようにしました！
    これによりhCaptchaに限らず、不正なアカウント登録を防げるようになります！
    また、hCaptchaとの二重確認も可能です。
new: 管理者ページよりモデレーション、hCapthca、CloudflareTurnstileのところに実際のキャプチャのデモ表示をするようにしました！
new: 記入中のユーズをCookieに一時保存し、投稿するまで、またはセッションを終了するまで保持します。
    Cookieは一字ずつ入力を検知して上書きしているので、コピペやカスタム絵文字を絵文字ピッカーから選択すると保存されない場合があります。
    多くのブラウザで最大4096バイト文まで保存が可能です。
    画像や動画の添付などに関しては保存されません。
new: 管理者ページよりお知らせ配信ページにて過去お知らせの閲覧と削除を行えるようにしました！
    これによりuwuzuのDB内、noticeテーブルの構造に「uniqid」(varchar(256))を追加する必要があります！
    v1.3.4以前に作成されたお知らせに関してはIDの付与ができておりませんのでuwuzuからの削除はできません。
uwuzu_database.sqlは更新済みです。

## Version 1.3.3 (new_Planet)
リリース日:2024/03/06
fix: 重大な脆弱性を修正しました。
fix: 一部表示がおかしくなる部分を修正しました。
fix: バグを減らしました。
chg: 投稿を削除する際の動作を一部変更しました。
chg: 一部UIを変更しました。

## Version 1.3.2 (new_Planet)
リリース日:2024/03/05
fix: 広告を追加できない問題を修正しました。
fix: PNG画像がアップロードできなくなる問題を修正しました。
fix: 正常にEXIF情報が削除されない問題を修正しました。
fix: 重大な脆弱性を修正しました。
del: uwuzu側での画像のファイルサイズ上限を削除しました。
chg: ログイン関連のページのUIを若干変更しました。
new: hCaptchaを設定し、利用できるようにしました！これにより不正なアカウント登録を防げるようになります！

## Version 1.3.1 (new_Planet)
リリース日:2024/03/02
fix: 絵文字が正常に表示されなくなる問題を修正しました。
fix: ダークモード使用時に通知のMarkdownで文字の色が変わらない問題を修正しました。
fix: ユーザーIDに半角英数字以外の文字列が使用できる問題を修正しました。
fix: 一部UIを変更しました
fix: その他微調整を行いました。

## Version 1.3.0 (new_Planet)
リリース日:2024/02/24
fix: サーバーロゴ未設定の状態でuwuzuロゴが表示されない問題を修正しました。
fix: ActivityPub機能にて他のサーバーに認識されない問題を修正しました。
fix: APIのCORS公開範囲を設定し、どのオリジンに対してもリソースを共有するようにしたはずができていなかった問題を修正しました。
fix: APIにて正常に情報が返されない問題を修正しました。
fix: 同じ招待コードが複数回に渡って使用できてしまう問題を修正しました。
fix: 投稿禁止URLドメイン機能で、空白行を作ると全てのドメインが禁止されるバグを修正しました。
fix: SQL構造ファイルでtext型の部分の文字数が最大値を超過しないよう修正しました。(?)
    既存のSQL構造ではユーズの最大値やその他MySQLのtext型の部分では文字数の最大値が65,535文字で、ユーズの文字数を例にするとサーバー設定から65,535文字以上にすると正常にユーズができなくなるおそれがあります。
    お手数ですが、SQL構造で全てのtext型をmediumtext型(最大16,777,215文字)にしていただけますようよろしくお願いします！
fix: メンションをしまくる事により通知を大量に送信できる問題を修正しました。
fix: EmojiIDに使用できない文字を登録できてしまう問題を修正しました。
fix: 画像のEXIF情報が削除されない問題を修正しました。
fix: 凍結されているユーザーが15件以上連続でユーズしている状態でホーム画面にユーズが表示されなくなる問題を修正しました。
fix: 脆弱性を修正しました。
fix: ロール削除時に正常にロールを剥奪できない問題を修正しました。
fix: サーバー作成時管理者アカウント登録にて画像のEXIFが削除されない問題を修正しました。
fix: サーバー作成時管理者アカウント登録にて正常に登録できない問題を修正しました。
chg: APIのレスポンスでHTMLエンコードをやめました。
chg: textareaを広くしました。
chg: uwuzuで想定されているエラー全てにエラーコードをふりました。
chg: 画像選択時に選択ボタンの色を変えることで選択したことを示すようにしました。
chg: 一部UIを変更しました！
chg: CSSの配色を少し変更しました。
chg: 絵文字登録機能をサーバー設定内に移動しました。
chg: サーバー情報ページの表示内容を変更しました！
chg: 通知の表示を少しいじりました
chg: タブレット端末で利用しやすいようCSSを変更しました。
    なお、実機による試験ができていないため動作保証はいたしません。
chg: ライセンスを変更しました！
    これまでAGPLでしたが、v1.3.0以降は独自のライセンスであるUPULへの変更を行います。
    ご迷惑をおかけしますがご理解とご協力お願いいたします。
new: プラグイン機能を作成しました！
    現在利用可能なプラグインは以下のものです。
    - PHPMailer
new: プラグイン機能よりPHPMailerが導入されているサーバーにてユーザーが重要なお知らせのメール受信の有無を設定できるできるようになりました！
    これによりuwuzuのDB内、accountテーブルの構造に「mail_settings」(mediumtext)を追加する必要があります！
    プラグイン機能よりPHPMailerを導入していないサーバーでもDBに追加しないとエラーを引き起こすため必ず追加してください！
new: サーバーヘッダー機能を実装しました！
new: 分間投稿数にレート制限を設けました
new: ユーズのMarkdown機能を大幅に更新しました！
    以下に全てのuwuzu Markdown書式を記載します。
    - `# [ここにテキスト] (h1サイズで文字を表示)`
    - `## [ここにテキスト] (h2サイズで文字を表示)`
    - `## [ここにテキスト] (h3サイズで文字を表示)`
    - `[[buruburu [ここにテキスト]]] (文字をブルブルさせて表示)`
    - ``[ここにテキスト]` (インラインコードとして表示)`
    - `***[ここにテキスト]*** (斜体と太字を適用して表示)`
    - `**[ここにテキスト]** (太字を適用して表示)`
    - `*[ここにテキスト]* (斜体を適用して表示)`
    - `~~[ここにテキスト]~~ (文字に取り消し線を入れて表示)`
    - `>>> [ここにテキスト] (引用として表示)`
    - `||[ここにテキスト]|| (カーソルをのせて文字を表示)`
    - `- [ここにテキスト] (箇条書きとして左に点を表示)`
new: 全てのエラーに明確なエラーコードを設定しました！(uwuzuで想定されているエラーのみ)
new: ブックマーク機能を追加しました！
    これによりuwuzuのDB内、accountテーブルの構造に「bookmark」(mediumtext)を追加する必要があります！
    必ず追加するようよろしくお願いいたします。
new: 通知の送信元がわかりやすくなるようにしました！
    これにより、uwuzuのDB内のnotificationテーブルの構造に「fromuserid」(varchar(512))を追加する必要があります！
    お手数ですが必ず追加するようお願い致します！
new: スマホからもサーバーからのお知らせやサーバー情報を見られるようにしました！
new: 「新しいユーズがあります！」機能を追加しました。
new: 投稿画面にて残り文字数表示を追加しました！
new: 管理用ページよりロールの剥奪機能を実装しました！

uwuzu_database.sqlは更新済みです。

## Version 1.2.29
リリース日:2023/12/21
fix: ログインがうまくできない・ログインループを起こしてしまう問題を修正しました。
fix: サーバーのindexページでサーバーロゴが適用されない問題を修正しました。
fix: 脆弱性を修正しました。
chg: アカウント作成画面で利用規約を新しいタブで開くようにしました。
chg: 追記欄でのユーザー名にも絵文字が表示されるようにしました。
chg: メンション時にカスタム絵文字を表示されるようにしました。
new: 404ページなどエラーページにもサーバーロゴを適用しました。

## Version 1.2.28
リリース日:2023/12/20
fix: モバイル表示時にメニューを開くとその他が2つになってしまっている問題を修正しました！
fix: 安定性を向上させました。
fix: APIの脆弱性を修正しました。
fix: ある条件下でログインできなくなる問題を修正しました。
fix: ある条件下でログアウトボタンからログアウトができない問題を修正しました。
fix: 脆弱性を修正しました。
chg: 全体的にURLの表示を若干変更しました。
chg: サーバー設定をiniファイルにぎゅってしました。
chg: 通報画面の表示を少し変更しました。
chg: 返信画面にて返信先idと表示しているユーズのひとつ上の階層のユーズも表示するようにしました。
chg: カスタム絵文字のシステムを変更し、これまでと比べ高速で絵文字の読み込みを行えるようにしました！
    これにより、今までの絵文字を新しい絵文字のシステムに移行する必要があります。
    まずこれまでの絵文字idのメモを取り、絵文字の画像をダウンロードしておいてください。
    メモとDLが完了したらSQL管理ツールから、emojiテーブルの構造から「emojitype」、「emojicontent」、「emojisize」を削除してください。
    構造の削除が完了したらSQL管理ツールから古い絵文字を全て削除してください。
    絵文字の削除が完了しましたら、uwuzuから絵文字の再登録を行ってください。
    お手数ですが、ご協力よろしくお願いします。
chg: SSLがサーバー側で設定されていない場合にアクセスできないようにしました。(localhostは許可してあります)
    本バージョンからSSLの設定をしていないと動作しないようになっております。
chg: ユーザーネームの文字数上限を50文字に引き上げました。
new: ホーム画面のURLに「?text=投稿欄に入れたい文字列」とすることにより文字列の共有を可能にしました！
new: ユーザー名にカスタム絵文字を使用できるようになりました！
new: 存在しない絵文字を指定した際やユーズに画像ファイルが存在しない際に「404」という画像を表示するようにしました。
new: 通報時にサーバー管理者に通知が送信されるようにしました。

## Version 1.2.27
リリース日:2023/11/29
fix: 検索時にシェアボタンが使用できない問題を修正しました！
fix: ユーズ内Markdown使用時に、「- 」(箇条書き)を使用すると表示がおかしくなる問題を修正しました。
fix: 絵文字一覧にて絵文字が横に長過ぎると絵文字のidが画面からはみ出てしまう問題を修正しました。
fix: ページ移動時にセッションが不安定になってしまう問題をある程度修正しました。
fix: ユーズにおいて使用不可なMarkdown表記を削除しました。
fix: php8.1以上にアップデートした際に「'」が「&#039;」と表示されてしまう問題を修正しました。
fix: ユーザー名及びユーザーIDの取得元がセッションもしくはCookieになっており、正しく処理を行えなくなる問題を修正しました。
fix: 脆弱性を修正しました。
chg: 通知でのユーザー表記をID表記に統一しました。
chg: アイコン・ヘッダーにJPEG画像を設定した際にEXIF情報を削除するようにしました。
chg: JPEG画像投稿時にEXIF情報を削除するようにしました。
    バグなどが残っている可能性があるため「画像のEXIF情報(位置情報など)は削除されません。情報漏洩に気をつけてくださいね…」という表記は残しております。
chg: serverinfo-apiにusageを追加しました。ユーザー数と投稿数が確認できます。
chg: サーバー停止時表示メッセージの編集画面をサーバーメンテナンス機能に移動しました。
chg: エラーページにもfaviconを表示するようにしました。
chg: エラーページにて上部のロゴからホーム画面へ戻ることを可能にしました。
chg: UIを一部変更しました。
chg: APIのCORS公開範囲を設定し、どのオリジンに対してもリソースを共有するようにしました。
new: 古いブラウザなどを非対応としてアクセスできないようにしました。
    非対応ブラウザ一覧
    - Nintendo Browser
    - Microsoft Internet Explorer
    非対応OS・端末一覧
    - iOS 6.0以前のiOS搭載端末
    - Nintendo Wii
    - Nintendo Switch
    - SONY PlayStation Vita
    - Windows Phone
    その他の非対応条件
    - Cookieが無効の場合
new: ユーズ内にYouTubeとニコニコ動画の動画リンクを貼り付けて投稿した際に自動的に投稿内に埋め込みが作成される機能を実装しました。
    なお、埋め込みで表示されるURLは1つまです。
    もし複数のURLを貼り付けた場合は一番最後の動画リンクの埋め込みが作成されます。
    ユーズに動画が添付されている場合、この機能は動作しません。
new: トップページとログイン、アカウント登録画面にOGPを設定しました。
new: サーバーメンテナンス機能を追加しました
    サーバー停止時表示メッセージの編集とサーバーの停止が出来ます。
    サーバー停止後、復旧にはそれまで使用していた.htaccessファイルが必要です。
    サーバー停止前に.htaccessファイルを保存しておいてください。

## Version 1.2.26
リリース日:2023/11/15
fix: 特殊記号を含む通知で表示がバグっちゃう問題を修正しました～
fix: サーバーの詳細ページが正しく表示されない問題を修正しました！
chg: お知らせでのハイパーリンクに対応しました～
chg: 投稿以外でのURL表示を若干変更しました～
chg: 広告の縦サイズ制限をなくしました！
chg: 色を一部変更しました～
chg: ハッシュタグ機能を若干改良しました。
chg: 画像を4枚まで添付可能にしました！
    DBでueuseにphoto3[varchar(512)]とphoto4[varchar(512)]を追加してください。
    uwuzu_database.sqlも更新済みです。
chg: 検索時にEnterで検索できるようにしました。
new: 利用規約ページなどでもfaviconを表示するように変更しました。
new: サーバーロゴ機能を追加しました。
    PC版で、左上に表示されているロゴを自由に設定できる機能です。
new: リリースノートの書き方を変更しました！
    リリースノートをわかりやすくするために項目を分類しました。
    - 「new」=「新機能」=「緑色」
    - 「fix」=「バグ修正」=「オレンジ色」
    - 「chg」=「仕様変更」=「青色」
    - 「del」=「機能廃止」=「赤色」
new: サーバー情報APIを実装しました！
    https://[ドメイン名(uwuzu.netなど)]/api/serverinfo-api
new: シェアボタンを実装しました！
    ユーズ下部のシェアボタンからシェアが可能です。
    Web Share API非対応のブラウザではURLがコピーされます。

## Version 1.2.25
リリース日:2023/10/22
ActivityPubに認識されない問題を修正しました。
ActivityPubがオフの場合に410 Goneを返すようにしました。
フォロー解除ボタンのUIを変更しました。
プロフィール画面でURLが正常に変換されない問題を修正しました。
アカウント新規登録画面でプライバシーポリシーボタンを押したときに利用規約が表示されてしまう問題を修正しました。
プロフィールのスマホ向けUIを変更しました。
似たアカウントidでフォロー・フォロー解除した際にデータが破損する問題を修正しました。
フォローされていないのにもかかわらず「フォローされています」と表示される問題を修正しました。
LTL、FTL、ユーザープロフィールページにて端末がオフラインになったときに通知する機能を追加しました。
サーバーカスタマイズからPWAのmanifest.json項目を変更できるようにしました。
プロフィール画面でフォローしている人、されている人を確認できるようにしました。
アカウント削除時にデータが破損する問題を修正しました。
追記時にMarkdownが適用されるようにしました。
投稿のURLの表示を若干変更しました。
スマホ向けメニューの項目に「利用規約」と「プライバシーポリシー」を追加しました。

## Version 1.2.24
リリース日:2023/10/04
画像選択ボタンのUIを変更しました。
サーバー管理画面で改行が正常にされない問題を修正しました。
アカウントの解凍機能を微調整しました。
うっかりミスを修正しました。
不完全ですがActivityPubに準拠したjsonを返すプログラムを実装しました。
標準では動作しないようにしてあります。
凍結されたユーザーの投稿をLTLとFTLで表示しないようにしました。
追記機能にも禁止URLと文字数制限を掛けるようにしました。
bot-apiの仕様を変更しました。
(新URL)https://[ドメイン名(uwuzu.netなど)]/api/bot-api?token=[アクセストークン]&ueuse=[投稿の内容]&type=post
【レスポンス例↓】
uniqid	"1bwtu12ea1"
userid	"admin"

typeを指定するようにしてください。
typeにgetuserを指定し、ueuseを削除するとアクセストークンからユーザー情報を取得することができるようになります。
※アクセストークンから取得しない場合は今までと同じくuserdata-apiをご利用ください。
(新URL)https://[ドメイン名(uwuzu.netなど)]/api/bot-api?token=[アクセストークン]&type=getuser
【レスポンス例↓】
user_name	"あどみん"
user_id	"admin"
profile	"tets\r\n2"
user_icon	"https://[ドメイン名(uwuzu.netなど)]/usericons/64f5f5bf69a2f-admin.webp"
user_header	"https://[ドメイン名(uwuzu.netなど)]/userheads/64f5f5bf69c3f-admin.png"
registered_date	"2023-09-05 00:20:31"
follow	",test"
follow_cnt	"1"
follower	",test"
follower_cnt	"1"

凍結されたユーザーがプロフィールを変更できないようにしました。
パスワード更新の際にユーザーIDの確認を求めるようにしました。
ユーザー情報取得APIのレスポンス仕様を変更しました。
【レスポンス例↓】
user_name	"あどみん"
user_id	"admin"
profile	"tets\r\n2"
user_icon	"https://[ドメイン名(uwuzu.netなど)]/usericons/64f5f5bf69a2f-admin.webp"
user_header	"https://[ドメイン名(uwuzu.netなど)]/userheads/64f5f5bf69c3f-admin.png"
registered_date	"2023-09-05 00:20:31"
follow	",test"
follow_cnt	"1"
follower	",test"
follower_cnt	"1"

返信APIを実装しました。
https://[ドメイン名(uwuzu.netなど)]/api/bot-api?token=[アクセストークン]&type=reply&uniqid=[返信先のuniqid]&ueuse=[返信の内容]
【レスポンス例↓】
uniqid	"1bwtu12ea2"
userid	"admin"

バグの修正をしました。
アカウント検索機能を実装しました。
ユーザープロフィールで投稿数を表示するようにしました。
ブロック機能を実装しました。(現状Xのミュート機能とほぼ同じ機能です)
DBに変更があるためaccountにblocklist[text]を追加してください。
uwuzu_database.sqlも更新済みです。

## Version 1.2.23
リリース日:2023/09/16
アカウント登録ができない問題を修正しました。
Botアカウントであることをわかりやすくする機能を実装しました。
画像の2つめの添付ボタンを1つ目を押してから表示するようにしました。
ログインループ問題を修正しました。
投稿内URLのバグを修正しました。
投稿にNSFW指定をすることができるようにする機能を実装しました！
NSFW指定をすると意図しない投稿の表示を防ぐことが出来ます！
※APIには適用されません。
誤字を修正しました。
UIを一部変更しました。
脆弱性を修正しました。
サーバー設定画面にサーバーの概要表示を追加しました。
カスタマイズ機能を微調整しました。
サーバーアイコン機能を実装しました！
アカウント登録画面をダークモード対応にしました！
DBに変更があるためaccountにsacinfo[varchar(256)]を、ueuseにnsfw[varchar(25)]を追加してください。
uwuzu_database.sqlも更新済みです。

## Version 1.2.22
リリース日:2023/09/12
カスタマイズ機能を微調整しました。
PWAのエラーを修正しました。
スマホ向けメニューを追加しました。
ユーザーに脆弱性に対しての注意喚起をする機能を追加しました。
投稿をuniqidだけでも閲覧できるようにしました。([domain]/![uniqid]で閲覧できます。)
いいねボタンの見た目が変わらないバグを修正しました。

## Version 1.2.21
リリース日:2023/09/11
PC向けUIを若干変更しました！
登録禁止ユーザーidを設定できるようにしました！
投稿の最大文字数を設定できるようにしました！
特定のドメインを含む投稿を禁止できるようにしました。
いいねボタンのアイコン表示形式を変更しました。
サーバーカスタマイズ機能を実装しました！
ユーザーページにも広告を表示するようにしました。
広告の表示頻度を投稿15件につき1件にしました。
投稿を取得するajax通信に失敗したときにエラーを表示するようにしました。
投稿に含まれるURLがSSL対応でないとクリックできないようにしました。
ロール作成・付与・管理機能を実装しました！
その他使い勝手を若干向上させました！
PWAのアイコンに白い縁が出来てしまう問題を修正しました。

## Version 1.2.20
リリース日:2023/09/10
LTLにFTLが表示される問題を修正しました。

## Version 1.2.19
リリース日:2023/09/10
脆弱性修正時に新たなバグが追加されてしまったためそれの修正をしました。
修正箇所にはまだ脆弱性があるため使用時はご注意ください。
日時表示で投稿日時が同じ年内の場合は月/日表示にするようにしました。
追記ボタンをアイコン表示にしました。
招待コードの表示UIを変更しました。
招待コードを量産できる機能を実装しました。
招待コードを簡単に削除できるようにしました。
通知内で改行できるようにしました。
アカウントの凍結・BAN機能を実装しました。
凍結機能実装にあたり「凍結/ice」ロールが必須になりました。
サーバー構築時は「ユーザー/user・公式/official・凍結/ice」を追加するようにしてください。
設定画面のUIを変更しました。
アカウント通報機能を実装しました。
広告を設置できるようにしました！
広告は各サーバーごとに募集して載せる方式となります。
また、広告によって収入を得る場合電気通信事業者に該当するため電気通信事業の届出をしてください。
詳細は電気通信事業参入マニュアル［追補版］をご覧ください。[https://www.soumu.go.jp/main_content/000477428.pdf]
広告はLTL・FTL・返信画面に投稿10件につき1件表示されます。
広告の優先順位等は設定できません。
広告はTLの横幅いっぱいに、縦は10dvhで表示されます。

## Version 1.2.18
リリース日:2023/09/06
脆弱性を修正しました。
APIより投稿したユーズがアカウントのメディア欄に表示されてしまう問題を修正しました。

## Version 1.2.17
リリース日:2023/09/05
OpenAI社によるGPTBotのクロールを拒否する設定項目を追加しました。
サーバー設定よりログアウトできない問題を修正しました。
一部スマホ向けUIを変更しました。
ユーザーページに【メディア】欄と【いいね】欄を追加しました！
サーバーの詳細情報表示ページを追加しました！
404ページ・503ページに任意の画像を表示する機能を追加しました(サーバー設定からは設定できません。)

## Version 1.2.16
リリース日:2023/09/05
サーバー設定項目を追加しました。
サーバー初期設定を楽にするため、サーバー構築後に管理者アカウント登録画面へいけるようにしました。
(uwuzu環境構築後サーバーを起動し「[domain]/admin/」でいけます。)
PC向けUIを一部変更しました。

## Version 1.2.15
リリース日:2023/09/03
ログインできないという致命的なバグを修正しました。
導入を楽にするためSQLの構造ファイルを添付するようにしました。
導入時にuwuzu_database.sqlをインポートすることによりuwuzuに必要な全てのテーブルが追加されます。
なお、roleテーブルに必須であるuserロールとofficialロールは自動で追加されませんのでご注意ください。
userとofficialは各自追加してください。

## Version 1.2.14
リリース日:2023/09/03
お知らせ表示部で編集者が正しく反映されない問題を修正しました。
FTLで投稿の順番がおかしくなるバグを修正しました。
ちょっとうれしくてもしかしたらちょっとうざいかもしれない機能を実装しました()
画像をクリックすることで画像が新しいタブで開かれるようにしました。
ホーム画面のURLに「?text=投稿欄に入れたい文字列」とすることによりリンクより共有などをできるようにしました！
フォロー通知を送信するようにしました！
セキュリティを強化しました！

## Version 1.2.13
リリース日:2023/08/29
致命的なバグを修正しました。
スマホ向けUIを変更しました。
PC向けUIを変更しました。
ハッシュタグを使えるようにしました！
from:@userといったようにfrom検索をできるようにしました！
search/?q=keywordといったようにURLから直に検索できるようにしました！
PC版での左側メニューを少し小さくしました！
フォローしている人のみのタイムライン(FTL)を実装しました！
これによりFTL(フォロータイムライン)とLTL(ローカルタイムライン)でタイムラインが２つに別れました！

## Version 1.2.12
リリース日:2023/08/27
致命的なバグを修正しました。
モバイル向けUIを変更しました。
リプライ数を表示するようにしました。
文字をぶるぶるできるようにしました。(?)
[[buruburu ここにぶるぶるさせたい文字]]でできます。

## Version 1.2.11
リリース日:2023/08/25
モバイル向けUIを変更しました。
Markdown記法に一部対応しました。
メンション機能を追加しました。
アイコン・ヘッダーのファイルの保存形式を変更することにより動作を軽くしました！
※アイコン・ヘッダーはアカウント削除まで内部保存が次々されていきます。上書きはされません。

## Version 1.2.10
リリース日:2023/08/23
モバイル向けUIを変更しました。
使用できるAPIを増やしました。
投稿API機能によりアクセストークンを使用し投稿できるようにしました。

## Version 1.2.9
リリース日:2023/08/22
メニュー画面に各機能のアイコンを表示するようにしました。
公式ロールがあるアカウントの投稿がタイムラインに流れると公式バッジがアカウントidの横に表示されるようにしました。
プロフィールにカスタム絵文字を使用できるようにしました。

## Version 1.2.8
リリース日:2023/08/21
ログイン時にリダイレクトを繰り返してしまうバグを修正しました。
ログアウトできないバグを修正しました。

## Version 1.2.7
リリース日:2023/08/21
通知画面のスマホ向けUIを改善しました。
Y.Swetake様よりファイルをお借りすることによりQRコードをサーバー上で生成できるようにしました。
それにより高速なQRコードの生成が可能となりました。
また、Michael Kliewe様の二段階認証実装用ライブラリのコードを一部改変させていただきました。
二段階認証のバックアップコードを生成する機能を作成しました。
ログイン通知を送信するようにしました。
未読の通知をわかりやすくしました。
アカウント削除時に通知が削除されるようにしました。

## Version 1.2.6.1
リリース日:2023/08/19
CSSの変更忘れです。

## Version 1.2.6
リリース日:2023/08/19
ログイン時の二段階認証入力画面を数字のみに限定しました。
通知機能を強化し、わかりやすくしました！

## Version 1.2.5
リリース日:2023/08/19
全てのデバイスでセッションを終了する機能を実装しました！
パスワードの復元をできるようにしました！

## Version 1.2.4
リリース日:2023/08/19
二段階認証機能を実装しました！
使用ライブラリ - GoogleAuthenticator.php
ライセンス表示↓
Copyright (c) 2012, Michael Kliewe All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

1.Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.

2.Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.


## Version 1.2.3
リリース日:2023/08/18
脆弱性の修正をしました。
追記機能で二回文字列が変換されてしまうバグを修正しました。
追記機能で絵文字とURLを使用できるようにしました！

## Version 1.2.2
リリース日:2023/08/18
モバイル向けUIを変更しました。
PutonFPSさんに手伝っていただきAPIの文字がUnicodeになってしまう問題を修正しました。

## Version 1.2.1
リリース日:2023/08/18
エラーコードをわかりやすくしました。
追記でHTMLタグが二回変換される問題を修正しました。

## Version 1.2.0
リリース日:2023/08/18
招待コード機能を実装しました！
開発版のテストや鯖のスペック的にこれ以上ユーザーを受け入れられない場面で使えるかもです！

## Version 1.1.6
リリース日:2023/08/18
API利用時にプロフィールに&lt;h1&gt;などのHTMLタグが含まれていると正しくAPIが取得できない問題を修正しました。

## Version 1.1.5
リリース日:2023/08/18
無限にログインしてしまう、またはアカウント登録が出来ない可能性のあるバグを修正しました。
投稿に添付されているURLを新しいタブで開くようにしました。
その他一部脆弱性を修正しました。
無駄な処理をすこ～しだけなくしました。
&lt;h1&gt;から&lt;h3&gt;、&lt;cernter&gt;、&lt;font&gt;を投稿内で使えてしまうと危険だと判断し、投稿の文字装飾機能を廃止しました。
なお、投稿の文字装飾はMarkdownにし、復活予定です。

## Version 1.1.4
リリース日:2023/08/17
脆弱性に対しての応急処置です。
全てのHTMLコードを無効化するよう修正しました。

## Version 1.1.3
リリース日:2023/08/17
早速脆弱性を見つけ出すとんでもない人間が出始めたので対策をしました()
部分的にUIを変更しました。

## Version 1.1.2
リリース日:2023/08/17
絵文字文字化けバグを修正しました。(文字コードをUTF8からUTF8mb4にしました。)

## Version 1.1.1
リリース日:2023/08/16
小さなバグを修正しました。

## Version 1.1.0
リリース日:2023/08/16
超極激ヤババグを修正しました。
ユーザーIDにハイフンが使えてしまうバグを修正しました。

## Version 1.0.0
リリース日:2023/08/16
### 初リリース！！！やったね！！！！
機能は以下の通り！遊んでみてね！！！
- 投稿(ユーズしよう！みんなに自分のつぶやきを見せつけるぞ！(?))
- 投稿に画像添付(最大2枚まで画像を添付できるぞ！位置情報など漏洩しないよう写真にGPS情報が残っていないか厳重に注意しよう...)
- 投稿に動画添付(好きな動画を載せてみよう！)
- 投稿への追記(投稿者が追記できるよ！誤字ったりミスった時はこれを使おう！)
- フォロー(アカウントをフォロー！周りのユーザーとの交流を増やそう！)
- いいね(いいねを押してみよう！気軽にどのくらいの人が「いいね！」と思ったかがわかる優れものさ！)
- 返信(返信だ！少し手抜きで作ったから見た目はよろしくないけど十分使える機能だッ！どちらかと言えばスレッドといったほうがいいかも...)
- カスタム絵文字(自分の思うことを画像で表せるカスタム絵文字！サーバー管理者に追加してほしい絵文字を報告して追加してもらおう！)
- カスタム絵文字総合ページ(PCの人なら左側のメニューからアクセスできるかな！自分のお気に入りの絵文字をここから見つけよう！)
- 投稿の文字装飾(5つだけHTMLタグを開放したんだ！&lt;h1&gt;,&lt;h2&gt;,&lt;h3&gt;,&lt;center&gt;,&lt;font&gt;を使って自由に作ろう！)
- プロフィール(無いと困る機能だけど一応書いとくね～！自分や他のユーザーのプロフィールページだよッ！)
- 設定(無いと一番困る機能！少し操作が複雑だけど頑張って！)
- 検索(ユーザー検索は出来ないけど投稿は検索できるよ！「あの投稿がまた見たい...」というときに使おう！)
- 通知(今のところほぼ使い物にならないけど今後良くしていく予定！待っててくれよっ！)
- アカウント削除(消したくなったタイミングで自分の投稿やアカウントなどの情報を全て消せるよ！)
- API(開発者のみんな～！ちゃんとAPIを実装したよ！内容はユーザー情報の取得！それ以外はまだないけど...まぁ！<br>/api/userdata-api.php?userid=me2)
- PWA(スマホでも快適に！※動作未確認())
- ダークモード(暗い夜でも目に優しく！)
他にも小さ～な機能は色々あるけどあまり気にならないだろうから今回はパスで！
ということで最初のバージョンである<b>uwuzu 1.0.0をお楽しみください！</b>